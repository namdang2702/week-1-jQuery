<!DOCTYPE html>
<html>
<head>
    <meta name="viewport"
          content="width=device-width, initial-scale=1">
    <title>Join Email List</title>
   
</head>
<body>
    <main>
        <h1>Please join our email list</h1>
        <form id="email_form" name="email_form" 
              action="join.html" method="get">
            <div>
                <label for="email_1">Email Address:
                </label>
                <input type="text" id="email_1"
                       name="email_1">
            </div>
            <div>
                <label for="email_2">Re-enter Email Address:
                </label>
                <input type="text" id="email_2" name="email_2">
            </div>
            <div>
                <label for="first_name">First Name:</label>
                <input type="text" id="first_name"
                       name="first_name">
            </div>
            <div>
                <label>&nbsp;</label>
                <input type="submit" id="join_list"
                       value="Join our List">
                <input type="button" id="clear_form"
                       value="Clear form">
            </div>     
        </form>
        <div id="data"></div>
    </main>
    <script>
        const $ = selector => document.querySelector(selector);
 
        document.addEventListener("DOMContentLoaded", () => {
            
            $("#join_list").addEventListener("click", evt => {
                // get values user entered in textboxes
                const email1 = $("#email_1").value;
                const email2 = $("#email_2").value;
                const firstName = $("#first_name").value;
            
                // create an error message and set it to an empty string
                let errorMessage = "";
         
                // check user entries – add to error message if invalid
                if (email1 == "") { 
                    errorMessage += "First email is required.\n";
                }
                if (email2 == "") { 
                    errorMessage += "Second email is required.\n";
                }
                if (email1 != email2) { 
                    errorMessage += "Both emails must match.\n";
                }
                if (firstName == "") {
                    errorMessage += "First name is required.\n";
                }
            
                // prevent form submission if there’s an error message
                if (errorMessage != "") {         
                    alert(errorMessage);
                    evt.preventDefault();
                } 
                evt.preventDefault();

                console.log(email1);
                const html = `<p>Hi ${firstName}! The email we have on file for you is:${email1}</p>`;

                document.getElementById("data").innerHTML = html;
                document.getElementById("email_form").reset();
            });
         
            $("#clear_form").addEventListener("click", () => {
                document.getElementById("email_form").reset();
            });
            
          
        });
        

    </script>
</body>
</html>

